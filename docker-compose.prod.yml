
# Generated by ChatGPT - test it locally

# version: '3'

# services:
#   backend:
#     build: .
#     container_name: cinesnap-api
#     expose:
#       - 3000

#   nginx:
#     image: nginx:alpine
#     container_name: nginx-proxy
#     ports:
#       - "80:80"
#     volumes:
#       - ./nginx.conf:/etc/nginx/conf.d/default.conf
#     depends_on:
#       - backend

version: "3.9"

services:
  cinesnap-api:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        TARGET_ENV: production
    image: cinesnap-api:production
    ports:
      - "3000:3000"
    env_file:
      - .env.production
  # nginx:
  #   image: nginx:alpine
  #   ports:
  #     - "80:80"  # Expose HTTP port to host
  #     # - "443:443" # Optional, if you have HTTPS certs
  #   volumes:
  #     - ./nginx.conf:/etc/nginx/nginx.conf:ro
  #     # - ./certs:/etc/nginx/certs:ro   # Optional, for SSL certificates
  #   depends_on:
  #     - cinesnap-api

